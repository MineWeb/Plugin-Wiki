<?phpclass Wregistre extends AppModel{    public $useTable = "wiki__registre";    public function __makeCondition($search)    {        if ((string)(int)$search == $search) {            return array(                'id' => intval($search)            );        } elseif ($search == 'cate_id') {            return array(                'cate_id' => $search            );        } else {            return array(                'name' => $search            );        }    }    public function getWregistreBySearch($key, $search)    {        $search_user = $this->find('first', array('conditions' => $this->__makeCondition($search)));        return (!empty($search_user)) ? $search_user['Wregistre'][$key] : NULL;    }    public function getAllFromWregistreByCate($cateId)    {        $search_user = $this->find('all', array('conditions' => array("Wregistre.cate_id =" => $cateId)));        if (!empty($search_user)) {            return ($search_user) ? $search_user['Wregistre'] : NULL;        }        return array();    }}