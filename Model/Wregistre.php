<?phpclass Wregistre extends AppModel{    public $useTable = "wiki__registre";    public function getWregistreBySearch($key, $search)    {        $search_user = $this->find('first', ['conditions' => $this->__makeCondition($search)]);        return (!empty($search_user)) ? $search_user['Wregistre'][$key] : null;    }    public function __makeCondition($search)    {        if ((string)(int)$search == $search) {            return [                'id' => intval($search)            ];        } else if ($search == 'cate_id') {            return [                'cate_id' => $search            ];        } else {            return [                'name' => $search            ];        }    }    public function getAllFromWregistreByCate($cateId)    {        $search_user = $this->find('all', ['conditions' => ["Wregistre.cate_id =" => $cateId]]);        if (!empty($search_user)) {            return ($search_user) ? $search_user['Wregistre'] : null;        }        return [];    }}