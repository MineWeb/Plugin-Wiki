<?phpclass Wcategories extends AppModel{    public $useTable = "wiki__wcategories";    public function getCategoriesBySearch($key, $search)    {        $search_user = $this->find('first', ['conditions' => $this->__makeCondition($search)]);        return (!empty($search_user)) ? $search_user['Wcategories'][$key] : null;    }    public function __makeCondition($search)    {        if ((string)(int)$search == $search) {            return [                'id' => intval($search)            ];        } else {            return [                'name' => $search            ];        }    }    public function getAllFromCategories($search = null)    {        $search_user = $this->find('first', ['conditions' => $this->__makeCondition($search)]);        if (!empty($search_user)) {            return ($search_user) ? $search_user['Wcategories'] : null;        }        return [];    }}